#
#  Makefile for simple liburl
#
#  Darren Hardy, hardy@cs.colorado.edu, April 1994
#
#  $Id$
#
prefix		= @prefix@
srcdir		= @srcdir@
VPATH		= @srcdir@


CC		= @CC@
INSTALL		= @INSTALL@
INSTALL_BIN 	= @INSTALL_PROGRAM@
INSTALL_FILE 	= @INSTALL_DATA@
RANLIB		= @RANLIB@
STD_CFLAGS	= @STD_CFLAGS@
STD_LDFLAGS	= @STD_LDFLAGS@
XTRA_LIBS	= @XTRA_LIBS@
XTRA_CFLAGS     = @XTRA_CFLAGS@

INCLUDE		= -I$(srcdir)/../include
UTILOBJS	= rfc850.o \
		  rfc1738.o \
		  util.o \
		  host_cache.o \
		  getfullhostname.o \
		  debug.o \
		  log.o
REGEXOBJS	= GNUregex.o
LIBS		= libutil.a libregex.a

CFLAGS		= $(STD_CFLAGS) $(XTRA_CFLAGS) $(INCLUDE)
LDFLAGS		= $(STD_LDFLAGS)

all: $(LIBS)

libutil.a: $(UTILOBJS)
	ar r $@ $(UTILOBJS)
	$(RANLIB) $@

libregex.a: $(REGEXOBJS)
	ar r $@ $(REGEXOBJS)
	$(RANLIB) $@

clean:
	-rm -f $(UTILOBJS) $(REGEXOBJS) $(LIBS) core

realclean: clean
	-rm -f libregex.a
	-rm -f Makefile

install: all
