#summary Adrian's Code TODO List.

= Introduction =

A whole lot of cleanup work needs to be done to make the more difficult work less painful.

This page is meant primarily as a kick for Adrian to remember what he needs to do.

= Code Changes =

  * Begin shuffling stuff out of src/ that isn't strictly required to be there and is trivial to reorganise (makes code reuse and unit testing easier to sort out)
   * dlink list *done*
   * debug/ctx *done*
   * gb_t *done*
   * kb_t - needs squid_off_t to me moved!
   * mem
    * Move initialisation of types init'ed in mem.c out into component modules *(Done)*
    * Convert the legacy mem.c types into locally-scoped MemPool types, reducing the mem.c stuff to buffers only
   * mempool *done*
   * memstr *done*
   * cbdata
   * string *done*
   * membuf

= Benchmarking =

  * Benchmark with / without mempools - try to establish which areas of the codebase are (ab)using malloc far too often

= Additions for Cacheboy-1.0 =

  * Nothing - get the codebase out there and stable!

= Additions for Cacheboy-1.1 =

  * Tidy up and commit the ZPH patch stuff? this is already included in Squid-2.HEAD.
  * TPROXY-4 support - already coded up, just need to test it before committing!
  * Solaris Event Ports - shouldn't be difficult; can almost merge /dev/poll + kqueue support to get network-only IO ports implemented (and ignore trying to use AIO for now!)
